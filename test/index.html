<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css.css">
    <script src="../misc/index.js"></script>
    <title>Editor HTML Page test</title>
</head>
<body>

    <div class="sheet-container">
        <div class="menu" id="menu"></div>
        <div class="editor" id="gc-editor">

        </div>
    </div>

    <script>
        
// const content = [
//     {tag:'p', text:'dsqqdqsd' , id:"1"}, {tag:'p', text:'dsqqdqsd', id:"2"},{tag:'p', text:'dsqqdqsd', id:"3"},{tag:'p', text:'dsqqdqsd', id:"4"},{tag:'p', text:'dsqqdqsd', id:"5"},
//     {tag: 'IMG', src: "./img", id:'mig'}
// ]

        var editor = new gcEditor({
            editor : "gc-editor",
            menu : "menu",
        })

        editor.init();

        // Init a timeout variable to be used below
        let timeout = null;

        // Listen for keystroke events
        document.addEventListener('change', function (e) {
            console.log("type")
            // Clear the timeout if it has already been set.
            // This will prevent the previous task from executing
            // if it has been less than <MILLISECONDS>
            clearTimeout(timeout);

            // Make a new timeout set to go off in 1000ms (1 second)
            timeout = setTimeout(function () {
                console.log(editor.getContent());
            }, 500);
        });

        document.addEventListener('keyup', function (e) {
            console.log("type")
            // Clear the timeout if it has already been set.
            // This will prevent the previous task from executing
            // if it has been less than <MILLISECONDS>
            clearTimeout(timeout);

            // Make a new timeout set to go off in 1000ms (1 second)
            timeout = setTimeout(function () {
                console.log(editor.getContent());
            }, 500);
        });

    </script>
    
</body>
</html>